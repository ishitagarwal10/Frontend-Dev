/* --- Global Styles --- */
body {
    font-family: Arial, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
}

header {
    text-align: center;
    padding: 1rem;
    background-color: #2c3e50;
    color: #fff;
}

main {
    padding: 2rem;
    max-width: 200px;
    margin: 0 auto;
}

/* --- Grid Layout --- */
.gallery {
    display: grid;
    /* Create a responsive grid:
       - 'auto-fit' creates as many columns as fit.
       - 'minmax(300px, 1fr)' means columns are at least 300px wide,
         and share remaining space (1fr).
    */
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem; /* Space between grid items */
}

/* --- Image Styling --- */
.gallery figure {
    margin: 0;
    background: #fff;
    
    /* Required styles */
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* Modern shadow */
    
    /* Needed for positioning the overlay and for transitions */
    position: relative;
    overflow: hidden; /* Clips the scaled image */
    transition: box-shadow 0.3s ease;
}

.gallery figure:hover {
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
}

.gallery img {
    display: block;
    width: 100%;
    height: auto;
    
    /* Required hover effect */
    transition: transform 0.3s ease;
}

/* Scale up the image on hover */
.gallery figure:hover img {
    transform: scale(1.1);
}

/* --- Overlay Effect --- */
.gallery figure::after {
    content: ''; /* Required for pseudo-elements */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    /* Semi-transparent overlay */
    background: rgba(0, 0, 0, 0.5);
    
    /* Hide by default */
    opacity: 0;
    
    /* Transition */
    transition: opacity 0.3s ease;
    
    /* Make sure overlay doesn't block mouse events from image */
    pointer-events: none;
}

/* Show the overlay on hover */
.gallery figure:hover::after {
    opacity: 1;
}

/* --- Caption Styling --- */
.gallery figcaption {
    padding: 1rem;
    text-align: center;
    font-style: italic;
    color: #555;
}

/* --- Responsive Requirement --- */
@media (max-width: 400px) {
    .gallery {
        /* Stack images in one column */
        grid-template-columns: 1fr;
    }
    
    main {
        padding: 1rem;
    }
}